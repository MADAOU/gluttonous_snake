(this.webpackJsonpgluttonous_snake=this.webpackJsonpgluttonous_snake||[]).push([[0],{30:function(e,t,a){},31:function(e,t,a){},33:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),c=a.n(s),i=(a(30),a(31),a(23)),o=a(3),l=(a(32),a(22)),d=a(11),j=a(12),h=a(13),m=a(15),b=a(14),u=a(43),k=a(41),f=a(42),O=(a(33),a(1)),x=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(j.a)(a,[{key:"render",value:function(){var e=this.props.title;return Object(O.jsx)(u.a,{className:"header-contaienr",children:Object(O.jsx)(u.a.Header,{children:Object(O.jsxs)(k.a,{children:[Object(O.jsx)(f.a,{md:4,className:"content-left"}),Object(O.jsx)(f.a,{md:4,className:"content-center",children:e||"Header"}),Object(O.jsx)(f.a,{md:4,className:"content-right"})]})})})}}]),a}(n.Component),p=a(44),g=function(e){Object(m.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(d.a)(this,a),(n=t.call(this,e)).state={score:0,message:"",startBtnDisabled:!1,daoju:!1,zhangaiwu:!1},n.WIDTH=20,n.HEIGHT=20,n.len=3,n.topScore=n.len,n.brakeTimers=[],n.skateTimers=[],n.commonChange=function(e){n.setState(Object(l.a)({},e.target.name,e.target.checked))},n.start=function(e){e.preventDefault(),n.setState({startBtnDisabled:!0}),n.len=3,n.speed=10,n.directkey=39,n.carrier=n.multiArray(n.WIDTH,n.HEIGHT),n.snake=[],n.setState({message:""}),n.clear(),n.initSnake(),n.addObject("food"),n.walk(),n.addRandomBrake()},n.initGrid=function(){for(var e=document.createElement("table"),t=document.createElement("tbody"),a=Object(h.a)(n),r=a.HEIGHT,s=a.WIDTH,c=0;c<r;c++){for(var i=document.createElement("tr"),o=0;o<s;o++){var l=document.createElement("td");n.gridElems[o][c]=i.appendChild(l)}t.appendChild(i)}e.appendChild(t),e.style.margin="0 auto",n.tableContainer.current.appendChild(e)},n.initSnake=function(){for(var e=n.randomPointer(n.len-1,n.len-1,n.WIDTH/2),t=0;t<n.len;t++){var a=e[0]-t,r=e[1];n.snake.push([a,r]),n.carrier[a][r]="cover"}},n.attachEvents=function(e){return n.directkey=2!==Math.abs(e.keyCode-n.directkey)&&e.keyCode>36&&e.keyCode<41?e.keyCode:n.directkey,!1},n.walk=function(){n.snakeTimer&&clearInterval(n.snakeTimer),n.snakeTimer=setInterval((function(){n.step()}),Math.floor(3e3/n.speed))},n.step=function(){var e=n.snake[0][0],t=n.snake[0][1];switch(n.directkey){case 37:e-=1;break;case 38:t-=1;break;case 39:e+=1;break;case 40:t+=1}if(e>=n.WIDTH||e<0||t>=n.HEIGHT||t<0||"block"===n.carrier[e][t]||"cover"===n.carrier[e][t]){n.setMessage("GAME OVER"),n.setState({startBtnDisabled:!1}),clearInterval(n.snakeTimer);for(var a=0;a<n.brakeTimers.length;a++)clearTimeout(n.brakeTimers[a]);for(var r=0;r<n.skateTimers.length;r++)clearTimeout(n.skateTimers[r])}else{if(n.len%4===0&&n.speed<60&&"food"===n.carrier[e][t]&&(n.speed+=5,n.walk(),n.setMessage("\u52a0\u901f\uff01")),"brake"===n.carrier[e][t]&&(n.speed=5,n.walk(),n.setMessage("\u606d\u559c\uff01\u6361\u5230\u5239\u8f66\u4e00\u4e2a\u3002")),"skate"===n.carrier[e][t]&&(n.speed+=20,n.walk(),n.setMessage("\u906d\u9047\u6ed1\u677f\uff01")),n.state.zhangaiwu&&n.len%6===0&&n.len<60&&"food"===n.carrier[e][t]&&n.addObject("block"),"food"!==n.carrier[e][t]){var s=n.snake[n.snake.length-1][0],c=n.snake[n.snake.length-1][1];n.carrier[s][c]=!1,n.gridElems[s][c].className="",n.snake.pop()}else n.carrier[e][t]=!1,n.addObject("food");n.snake.unshift([e,t]),n.carrier[e][t]="cover",n.gridElems[e][t].className="cover",n.len=n.snake.length,n.setState({score:n.len-3})}},n.addObject=function(e){var t=n.randomPointer();n.carrier[t[0]][t[1]]=e,n.gridElems[t[0]][t[1]].className=e},n.addRandomBrake=function(){if(n.state.daoju)for(var e=n.randowNum(1,5),t=0;t<e;t++)n.brakeTimers.push(setTimeout((function(){n.addObject("brake")}),n.randowNum(1e4,1e5))),n.skateTimers.push(setTimeout((function(){n.addObject("skate")}),n.randowNum(5e3,1e5)))},n.setMessage=function(e){n.setState({message:e})},n.multiArray=function(e,t){for(var a=new Array(t),n=0;n<e;n++)a[n]=new Array(e);return a},n.clear=function(){for(var e=0;e<n.gridElems.length;e++)for(var t=0;t<n.gridElems[e].length;t++)n.gridElems[t][e].className=""},n.randomPointer=function(e,t,a,r){e=e||0,t=t||0,a=a||n.WIDTH,r=r||n.HEIGHT;var s=[],c=Math.floor(Math.random()*(a-e))+e,i=Math.floor(Math.random()*(r-t))+t;return n.carrier[c][i]?n.randomPointer(e,t,a,r):(s[0]=c,s[1]=i,s)},n.randowNum=function(e,t){return Math.floor(Math.random()*(t-e))+e},n.tableContainer=r.a.createRef(),n}return Object(j.a)(a,[{key:"componentDidMount",value:function(){this.gridElems=this.multiArray(this.WIDTH,this.HEIGHT),this.initGrid(),document.onkeydown=this.attachEvents}},{key:"componentWillUnmount",value:function(){this.snakeTimer&&clearInterval(this.snakeTimer)}},{key:"render",value:function(){var e={container:{margin:"10em auto",width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},centerContainer:{height:"35.5em"},centerCard:{height:"100%"},tableContainer:{display:"flex",justifyContent:"center",alignItems:"center"},checkboxContainer:{display:"flex",justifyContent:"center",alignItems:"center"}};return Object(O.jsx)(r.a.Fragment,{children:Object(O.jsx)("div",{style:e.container,children:Object(O.jsx)(u.a,{className:"card-container",children:Object(O.jsxs)(u.a.Body,{children:[Object(O.jsx)(k.a,{children:Object(O.jsx)(f.a,{md:12,children:Object(O.jsx)(x,{title:"\u8d2a\u98df\u86c7"})})}),Object(O.jsx)(k.a,{className:"justify-content-md-center",children:Object(O.jsx)(f.a,{md:12,style:e.centerContainer,children:Object(O.jsx)(u.a,{style:e.centerCard,children:Object(O.jsx)(u.a.Body,{children:Object(O.jsxs)(k.a,{children:[Object(O.jsx)(f.a,{md:12,className:"content-center",children:this.state.message}),Object(O.jsx)(f.a,{md:12,className:"content-center",children:Object(O.jsxs)("span",{children:["\u5f53\u524d\u5206\u6570:",Object(O.jsx)("strong",{children:this.state.score})]})}),Object(O.jsx)(f.a,{md:12,className:"content-center",children:Object(O.jsx)("div",{ref:this.tableContainer})}),Object(O.jsxs)(f.a,{md:12,className:"content-center",children:[Object(O.jsx)("span",{className:"box food"}),Object(O.jsx)("span",{children:"\u7eff\u8272\u98df\u7269"}),Object(O.jsx)("span",{className:"box block"}),Object(O.jsx)("span",{children:"\u7070\u8272\u6bd2\u54c1"}),Object(O.jsx)("span",{className:"box skate"}),Object(O.jsx)("span",{children:"\u84dd\u8272\u6ed1\u677f"}),Object(O.jsx)("span",{className:"box brake"}),Object(O.jsx)("span",{children:"\u7ea2\u8272\u5239\u8f66"})]}),Object(O.jsxs)(f.a,{md:12,children:[Object(O.jsxs)("div",{style:e.checkboxContainer,children:[Object(O.jsxs)("div",{class:"form-check",children:[Object(O.jsx)("input",{class:"form-check-input",name:"daoju",type:"checkbox",disabled:this.state.startBtnDisabled,onChange:this.commonChange,value:this.state.daoju}),Object(O.jsx)("label",{class:"form-check-label",children:"\u542f\u7528\u9053\u5177"})]}),Object(O.jsxs)("div",{class:"form-check",children:[Object(O.jsx)("input",{class:"form-check-input",type:"checkbox",name:"zhangaiwu",disabled:this.state.startBtnDisabled,onChange:this.commonChange,value:this.state.zhang}),Object(O.jsx)("label",{class:"form-check-label",children:"\u542f\u7528\u969c\u788d\u7269"})]})]}),Object(O.jsx)(f.a,{md:12,className:"content-center",children:Object(O.jsx)(p.a,{onClick:this.start,disabled:this.state.startBtnDisabled,children:"\u5f00\u59cb\u6e38\u620f"})})]})]})})})})})]})})})})}}]),a}(n.Component);var v=function(){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(i.a,{children:Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{exact:!0,path:"/gluttonous_snake",component:g}),Object(O.jsx)(o.a,{path:"/index",component:g})]})})})};c.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(v,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.3b0a8880.chunk.js.map